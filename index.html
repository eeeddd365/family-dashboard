<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Home Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;700&display=swap" rel="stylesheet">
    <style>
        body {
            background: radial-gradient(circle at center, #1a1a2e 0%, #0f0f1a 100%);
            color: #e2e8f0;
            font-family: 'Noto Sans TC', sans-serif;
            overflow: hidden;
            cursor: none;
        }
        .glass {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
        }
        .text-gradient {
            background: linear-gradient(to right, #ffffff, #94a3b8);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        @keyframes pulse-soft {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
        .updating { animation: pulse-soft 2s infinite; }
    </style>
</head>
<body class="h-screen w-screen p-8 grid grid-cols-12 grid-rows-6 gap-6">

    <div class="col-span-4 row-span-6 flex flex-col gap-6">
        <div class="glass rounded-3xl p-8 flex-1 flex flex-col justify-center items-center">
            <div id="clock" class="text-8xl font-light tracking-tighter text-white mb-2">00:00</div>
            <div id="date" class="text-2xl text-blue-300 font-medium">2026å¹´2æœˆ1æ—¥</div>
            <div id="day" class="text-lg text-gray-400">æ˜ŸæœŸæ—¥</div>
        </div>
        <div class="glass rounded-3xl p-8 flex-1 flex flex-col justify-center">
            <div class="flex items-center justify-between">
                <div>
                    <p class="text-gray-400 text-lg">è¥¿å€, å°ä¸­å¸‚</p>
                    <h2 id="temp" class="text-6xl font-bold text-white mt-2">--Â°C</h2>
                </div>
                <div id="weather-icon" class="text-7xl">â˜€ï¸</div>
            </div>
            <p id="weather-desc" class="text-xl text-blue-200 mt-4">æ­£åœ¨ç²å–æ°£è±¡è³‡è¨Š...</p>
        </div>
    </div>

    <div class="col-span-8 row-span-3 glass rounded-3xl p-8 overflow-hidden">
        <div class="flex justify-between items-center mb-6">
            <h2 class="text-2xl font-bold text-white flex items-center">
                <span class="w-2 h-2 bg-red-500 rounded-full mr-3 animate-pulse"></span>
                å³æ™‚æ–°èé ­æ¢
            </h2>
            <span class="text-sm text-gray-400">ä¾†æºï¼šå…¬è¦–æ–°è</span>
        </div>
        <div id="news-list" class="space-y-4">
            <p class="text-gray-500 animate-pulse">æ­£åœ¨æ›´æ–°æœ€æ–°è¨Šæ¯...</p>
        </div>
    </div>

    <div class="col-span-4 row-span-3 glass rounded-3xl p-8">
        <h2 class="text-xl font-bold text-white mb-4">ğŸš— äº¤é€šè·¯æ³</h2>
        <div class="w-full h-48 rounded-xl bg-gray-800 flex items-center justify-center overflow-hidden">
            <iframe 
                src="https://www.google.com/maps/embed?pb=!1m14!1m12!1m3!1d58252.16399002!2d120.6486!3d24.1477!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!5e0!3m2!1szh-TW!2stw!4v1700000000000!5m2!1szh-TW!2stw&layer=t" 
                width="100%" height="100%" style="border:0; filter: invert(90%) hue-rotate(180deg);" allowfullscreen="" loading="lazy">
            </iframe>
        </div>
        <p class="text-xs text-gray-500 mt-2 text-center">åœ°åœ–å·²å¥—ç”¨æ·±è‰²æ¿¾é¡ä»¥ç¬¦åˆè¦–è¦º</p>
    </div>

    <div class="col-span-4 row-span-3 glass rounded-3xl p-8">
        <h2 class="text-xl font-bold text-white mb-4">ğŸ“… è¿‘æœŸè¡Œç¨‹</h2>
        <div class="space-y-3">
            <div class="flex items-start gap-3">
                <div class="w-1 h-10 bg-blue-500 rounded-full"></div>
                <div>
                    <p class="text-sm text-gray-400">18:30</p>
                    <p class="text-white">å®¶åº­æ™šé¤</p>
                </div>
            </div>
            <div class="flex items-start gap-3">
                <div class="w-1 h-10 bg-purple-500 rounded-full"></div>
                <div>
                    <p class="text-sm text-gray-400">æ˜æ—¥ 09:00</p>
                    <p class="text-white">å°ˆæ¡ˆæœƒè­°</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // 1. æ›´æ–°æ™‚é–“
        function updateTime() {
            const now = new Date();
            document.getElementById('clock').innerText = now.toLocaleTimeString('zh-TW', { hour: '2-digit', minute: '2-digit', hour12: false });
            document.getElementById('date').innerText = now.toLocaleDateString('zh-TW', { year: 'numeric', month: 'long', day: 'numeric' });
            const weekdays = ["æ˜ŸæœŸæ—¥", "æ˜ŸæœŸä¸€", "æ˜ŸæœŸäºŒ", "æ˜ŸæœŸä¸‰", "æ˜ŸæœŸå››", "æ˜ŸæœŸäº”", "æ˜ŸæœŸå…­"];
            document.getElementById('day').innerText = weekdays[now.getDay()];
        }
        setInterval(updateTime, 1000);
        updateTime();

        // 2. ç²å–æ–°è (ä½¿ç”¨ RSS2JSON API)
        async function fetchNews() {
            const RSS_URL = 'https://news.pts.org.tw/xml/newsfeed.xml';
            const API_URL = `https://api.rss2json.com/v1/api.json?rss_url=${encodeURIComponent(RSS_URL)}`;
            
            try {
                const response = await fetch(API_URL);
                const data = await response.json();
                const newsList = document.getElementById('news-list');
                newsList.innerHTML = data.items.slice(0, 4).map(item => `
                    <div class="border-b border-white/5 pb-3">
                        <a href="${item.link}" target="_blank" class="text-lg text-gray-200 hover:text-blue-400 transition-colors line-clamp-1">
                            ${item.title}
                        </a>
                        <p class="text-xs text-gray-500 mt-1">${new Date(item.pubDate).toLocaleTimeString()}</p>
                    </div>
                `).join('');
            } catch (error) {
                console.error('æ–°èè¼‰å…¥å¤±æ•—', error);
            }
        }
        fetchNews();
        setInterval(fetchNews, 600000); // æ¯ 10 åˆ†é˜æ›´æ–°ä¸€æ¬¡æ–°è

        // 3. æ¨¡æ“¬å¤©æ°£æ›´æ–° (å¯æ›æˆ OpenWeatherMap API)
        function updateWeather() {
            const temps = ["21Â°C", "22Â°C", "20Â°C"];
            document.getElementById('temp').innerText = temps[Math.floor(Math.random() * temps.length)];
            document.getElementById('weather-desc').innerText = "å¤šé›²æ™‚æ™´ï¼Œèˆ’é©";
        }
        updateWeather();

        // é é¢æ¯ 1 å°æ™‚å…¨é é‡æ–°æ•´ç†ï¼Œé˜²æ­¢ç€è¦½å™¨è¨˜æ†¶é«”æ´©æ¼
        setTimeout(() => location.reload(), 3600000);
    </script>
</body>
</html>
